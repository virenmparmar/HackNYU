<!-- add a post to the web page with photo and location and other details -->
{% extends 'base.html' %}

{% block content %}
<div>
    <style>
		.preview {
			display: flex;
			flex-wrap: wrap;
			max-width: 500px;
		}
		.preview img {
			max-width: 150px;
			max-height: 150px;
			margin: 10px;
		}
	</style>
    <title>Add an item for donating</title>

	<form action="#" method="POST">
		<label for="post-title">Tell us what is it you are donating:</label><br>
		<input type="text" id="post-title" name="post-title"><br>

		<label for="post-photos">Photos:</label><br>
		<input type="file" id="post-photos" name="post-photos" multiple onchange="previewPhotos(event)"><br>
		<div class="preview"></div>

		<label for="post-latitude">Latitude:</label><br>
		<input type="text" id="post-latitude" name="post-latitude"><br>

        <label for="post-longitude">Longitude:</label><br>
		<input type="text" id="post-longitude" name="post-longitude"><br>

		<input type="submit" value="Submit">
	</form>


	<script>
		function previewPhotos(event) {
			const previewContainer = document.querySelector('.preview');
			previewContainer.innerHTML = '';
			const files = event.target.files;
			for (let i = 0; i < files.length; i++) {
				const file = files[i];
				const reader = new FileReader();
				reader.readAsDataURL(file);
				reader.onload = function() {
					const img = document.createElement('img');
					img.src = reader.result;
					previewContainer.appendChild(img);
				}
			}
		}
	</script>
</div>
{% endblock %}